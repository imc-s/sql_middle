**Тестовое задание №1.**

Парсинг XML-файла, содержащего сведения об оказанной медицинской помощи.

Файл «C8BAFCEC-B253-4784-A4FA-AE8632F05501.xml» содержит сведения о счёте, выставленном лечебным учреждением в страховую организацию. Описание формата XML находится в файле «Файл со сведениями об оказанной медицинской помощи.doc». XML-файл имеет три основных уровня:
1.	SCHET –  общие сведения о счёте;
2.	SLUCH – сведения о случаях оказания пациентам амбулаторной медпомощи;
3.	USL – список услуг, оказанных пациенту в рамках конкретного случая.

Задача:
1.	Создать в PostgreSQL 14 схему и три таблицы на основе описания формата XML-файла со счётом. Таблицы должны иметь все атрибуты, необходимые для обеспечения ссылочной целостности (в том числе каскадное удаление), а также несколько (3-5) смысловых атрибутов из описания.
2.	Средствами PL/pgSQL реализовать процедуру, осуществляющую разбор XML и наполнение трёх созданных таблиц. XML для парсинга предварительно загрузить в специально предусмотренную заранее буферную таблицу с единственным столбцом типа TEXT (скрипт загрузки, включая загружаемые данные, приложить к решению).

**Тестовое задание №2.**

Подготовка справочника наименований медицинских услуг.

Файл «amb.dbf» содержит таблицу со списком медицинских услуг. Описание структуры «amb.dbf»:
![image](https://github.com/imc-s/sql_middle/assets/83217262/8be6f43a-9b3b-440b-9ae3-38ba62a0f0f9)

Данный справочник является иерархическим. Уровень иерархии задан в поле TEXTCODE. Количество уровней иерархии не ограничено. Столбцы CKEY, CREF, CNUM, CEND не заполнены.
 
Задача:
1.	Создать таблицу на PostgreSQL и загрузить в неё данные из amb.dbf (скрипт загрузки, включая загружаемые данные, приложить к решению).
2.	Создать хранимую процедуру на PL/pgSQL, которая заполняет столбцы CKEY, CREF, CNUM, CEND на основе данных из столбца TEXTCODE в соответствии с описанием структуры «amb.dbf». В описании для колонки "Тип": О-обязательное поле, Н-необязательное поле, У-условно-обязательное поле, М-множественное поле.
3. Пример заполнения столбцов CKEY, CREF, CNUM, CEND:
![image](https://user-images.githubusercontent.com/83217262/228841573-d6282e65-014b-4551-bf9d-5ba73ba7e598.png)

**Общие требования:**
1. Решение тестового задания должно быть оформлено в виде скрипта. Не следует применять Python или что бы то ни было другое, кроме PostgreSQL. Одно задание - один файл с sql-скриптом, два задания - два файла и ничего больше!
2. Скрипты должны выполняться в рамках схемы test, создание которой также должно выполняться в скрипте.
3. Скрипты не должны содержать ничего лишнего.
4. Скрипты должны выполняться без необходимости правки, доработки (открыл скрипт, выполнил, увидел результат).
5. Скрипты должны быть самодостаточными - для их запуска и перезапуска не должно требоваться каких-либо предварительных действий. 
6. Скрипты должны содержать комментарии на русском языке.
7. Файлы с разработанными скриптами следует отправить HR-менеджеру, от которого получено тестовое задание.

